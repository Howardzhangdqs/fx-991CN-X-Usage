# #bSOLVE#方法

#bSOLVE#方法 是一个很好用也很不好用的方程求解工具，拿他用来求一元一解方程还是很方便的，但由于自身算法的局限性可能会一定程度上误导用户。具体原理及问题请见[#bSOLVE#方法的局限性及应对方法](#solve方法的局限性及应对方法)

#bSOLVE#方法仅能在计算模式（模式1）中被调用。

使用#bSOLVE#方法解方程很简单，直接在计算器中敲入你要解的方程，这里以方程$2^x=16$为例：

1. 直接输入方程。
![](./assets/img/Snipaste_2022-12-03_17-07-12.png)

2. 顺次按下#bSHIFT##bCALC#（即为#bSOLVE#）
![](./assets/img/Snipaste_2022-12-03_17-08-53.png)

3. 按下#b=#，等待片刻即可得到答案
![](./assets/img/Snipaste_2022-12-03_17-09-58.png)

这里的输出分为三个部分：最顶上的原方程，下面的近似解（“$x=$”）与误差（“$L-R=$”）。

正常情况下误差一般为0，当然有些难缠的方程例如$x^{\log_2^x}=\frac{\sqrt{2}}2$就会出现类似下图的中间步骤：
![](assets/img/Snipaste_2022-12-03_17-21-14.png)
我的评价是：一般出现这种样子大概率计算器是算不出来解了，你的方程对于这个计算器过于复杂了，可以试着进行简化（比如指化对，如果可以的话）或者从[#bSOLVE#方法的局限性及应对方法](#solve方法的局限性及应对方法)中寻找解决方法。

其他产生误差的情况有你这个方程本身精确解对答案精度要求很高（超出了计算器的计算范围），如$x^{80}=2$：
![](assets/img/Snipaste_2022-12-10_09-22-52.png)
你的计算器可能会给你一个无解的结果，具体原因可以参考[牛顿法的局限性及应对方法](#牛顿法的局限性及应对方法)

### #bSOLVE#方法的局限性及应对方法

### 牛顿法概述

了解一个算法的用途最好的方法就是了解他的原理，下面这段看得懂就看，看不懂直接跳。

官方说明文档中说过#bSOLVE#方法使用的是牛顿法。

牛顿法又称牛顿迭代法，是信息学中求方程根的重要方法之一，这里以计算一元方程为例（fx-991CN X 仅能计算一元方程）：

对目标一元函数在$x_0$点处进行泰勒展开，可得：
$$
f(x) = f(x_0) + f'(x_0)(x-x_0) + \frac12 f''(x_0)(x-x_0)^2+\cdots+\frac1{n!}f^{(n)}(x_0)(x-x_0)^n
$$

忽略$2$次以上的项，可得：
$$
f(x) = f(x_0) + f'(x_0)(x-x_0) + \frac12 f''(x_0)(x-x_0)^2
$$

现在我们以$x_0$为基准，要找到导数为$0$的点。对上面等式两边同时求导，并令导数为$0$，可得：
$$
f'(x) = f'(x_0) + f''(x_0)(x-x_0) = 0
$$

整理一下可得：
$$
x = x_0 - \frac{f'(x_0)}{f''(x_0)}
$$

看到这里大多数的同学应该都理解了，我们只要重复执行上面的这个方程就能得到一个略微精确的方程的解，即：
$$
x_{t+1} = x_t - \frac{f'(x_0)}{f''(x_0)}
$$

“迭代”就是这个方法的精髓，计算器只需要反复不停的执行上面这个方程，反复更新$x$的值，最后就能得到一个近似解。


### 牛顿法的局限性及应对方法

如果能顺利阅读完[牛顿法概述](#牛顿法概述)的同学，应该不难想到这个方法的局限性，也就是会陷入局部最优解并且无法跳出局部最优陷阱，从而得到一个方程的“假无解”或者长时间没有结果的情况。

下图展示了方程$50\times \sin(x)^2 \times \cos(x)$的图像和可能的局部最优情况。
![](assets/img/Newtonian-limitation.svg)

找到了“假无解”的原因，那接下来就是解决办法了。

与#bCALC#方法相同，#bSOLVE#方法也有初始值的设置（相信各位也已经注意到了），我们只需要约估一下可能解的位置，并作为初始值进行迭代即可。（暂时没有找到很好的例子，找到了再说）

通过这个思路，如果一个方程有两解或者多解也能通过#bSOLVE#方法进行求解了，例如方程$-2x^2+x+1=0$（当然你可以使用 模式8 方程/函数 直接求解），可以先将$x$设置为一个较大的值（相对解较大，比如$114514$）进行迭代，得到较大的解$1$，然后将$x$设置为一个较小的值（比如$-1919$），得到较小的解$-0.5$也就是$-\frac12$。

#bSOLVE#方法由于其原理所致，计算结果全部都为小数，得到的小数可以通过比如平方等猜测操作猜测原数大小。

!> 由于#bSOLVE#方法的特殊性，其计算结果与原方程不会被记录进计算器的历史记录中，也就是如果你在方程解完了不小心按了上方向键:fa fa-caret-up:或者#bAC#，那你除非再敲一遍，就别想见到你之前敲进去的原方程了。

## 应用

!> 所有例题**严禁动笔计算**！

1. 若$\frac{\sin\alpha + \cos\alpha}{\sin\alpha - \cos\alpha}=\frac12$，则$\tan 2\alpha=\underline{\qquad\qquad}$

2. 请快速计算方程$x^4+x=1$的两个近似解。

### 解析

1. 可以秒了，用$x$代替$\alpha$，角度制下按出$x$约为$-71.56505118$，直接$\tan(2x)=\frac34$

!> 三角函数题需要注意每一步结果范围！

2. 不难画出函数$x^4+x=1$的近似图像：
![](./assets/img/x^4+x=1.svg)
易得该方程有两解，故可用牛顿法取一正一负两个初始值进行计算。正解可取$10$作为初始值，负解取$-10$得最终答案为$-1.220744085$和$0.724491959$。

?> 计算小于等于4次的方程建议使用方程/函数模式（模式8），这里仅作练习使用。
